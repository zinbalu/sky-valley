(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7036],{7036:function(e,t,a){"use strict";a.d(t,{Z:function(){return U}});var s=a(5893),n=a(5939),i=a.n(n),l=a(5675),o=a.n(l),c=a(7294),m=a(9252),r=a(1988),_=a.n(r),d=a(1664),u=a.n(d),p=a(1163),g=a(3935),h=a(7814),x=a(9417),I=a(5097),b=a(4488),v=a(3784),f=a(5395),j=a(3706),N=a(9839),y=a(6090),C=a(5204),B=a(4553),Y=a(294),T=a(9151),R=a(101);function Z(e){let{item:t}=e,{texts:a,purchases:n,purchasesTexts:i,enchantments:l}=(0,c.useContext)(m.D),[r,d]=(0,c.useState)(0),[Z,k]=(0,c.useState)(!1),[L,S]=(0,c.useState)(!1),{locale:w}=(0,p.useRouter)();if(!n||!l)return null;let U=I.y.GetPackageFromContent(n,t.uid),G=(0,b.IY)(a,I.y.GetName(t)),V=(0,b.IY)(a,"item_tier_type_format").replace("{0}",t.tier.toString()).replace("{1}",(0,b.IY)(a,I.y.GetTypeName(t,void 0))),W="/blueprints/".concat(I.y.GetCategoryByType(t.type),"/").concat(t.type,"/").concat(t.uid),A=()=>{k(!0),setTimeout(()=>{k(!1)},3e3)},P=()=>{S(e=>!e)},D=()=>{let e=window.location.hostname;Z||A();let t="en"===w?"":"/".concat(w);if("localhost"===e){e="localhost:3000",navigator.clipboard.writeText("".concat(e).concat(t).concat(W));return}navigator.clipboard.writeText("https://".concat(e).concat(t).concat(W))},M=I.y.GetElementData(t,l),q=I.y.GetSpiritData(t,l);return(0,s.jsxs)("div",{className:_().contentContainer,children:[(0,s.jsxs)("div",{className:_().header,children:[(0,s.jsxs)("div",{className:_().itemTier,children:[(0,s.jsx)("div",{className:_().tierImage,children:(0,s.jsx)(o(),{src:"/assets/icons/global/icon_global_level_item_s_r.png",alt:"",width:65,height:65,quality:50})}),(0,s.jsx)("div",{className:_().tierValue,children:t.tier})]}),(0,s.jsxs)("div",{className:_().itemInfo,children:[(0,s.jsxs)("div",{className:_().itemNameType,children:[(0,s.jsx)("div",{className:_().itemType,children:(0,s.jsx)(o(),{src:I.y.GetTypeImage(t.type).global,alt:"",width:30,height:30})}),(0,s.jsx)("div",{className:_().itemName,children:G})]}),(0,s.jsx)("div",{className:_().itemTierType,children:V})]})]}),(0,s.jsxs)("div",{className:_().tabsContainer,children:[(0,s.jsx)("div",{className:0===r?"".concat(_().selectedTab," ").concat(_().tab):_().tab,onClick:()=>d(0),children:(0,b.IY)(a,"bp_detail_blueprint")}),(0,s.jsx)("div",{className:1===r?"".concat(_().selectedTab," ").concat(_().tab):_().tab,onClick:()=>d(1),children:(0,b.IY)(a,"bp_detail_stats")}),(0,s.jsx)("div",{className:2===r?"".concat(_().selectedTab," ").concat(_().tab):_().tab,onClick:()=>d(2),children:(0,b.IY)(a,"bp_detail_upgrades")})]}),0===r&&(0,s.jsxs)("div",{className:_().tabContent,children:[(0,s.jsx)("div",{className:_().itemDetails,children:(0,s.jsx)("div",{className:_().itemDescription,children:(0,b.IY)(a,I.y.GetDescription(t))})}),(0,s.jsxs)("div",{className:_().detailsBlock,children:[(0,s.jsx)("div",{className:_().detailsTitle,children:(0,b.IY)(a,"bp_detail_resources")}),(0,s.jsx)(j.Z,{texts:a,item:t})]}),(0,s.jsxs)("div",{className:_().detailsBlock,children:[(0,s.jsx)("div",{className:_().detailsTitle,children:(0,b.IY)(a,"bp_detail_workers")}),(0,s.jsx)(N.Z,{texts:a,item:t})]}),(0,s.jsxs)("div",{className:_().itemFooter,children:[(0,s.jsxs)("div",{className:_().itemActions,children:[(0,s.jsx)(u(),{className:_().itemActionButton,href:W,title:(0,b.IY)(a,"button_view_full_page"),children:(0,s.jsx)(h.G,{icon:x.ZE5})}),(0,s.jsx)("button",{className:_().itemActionButton,title:(0,b.IY)(a,"button_copy_to_clipboard_link"),onClick:D,children:(0,s.jsx)(h.G,{icon:x.kZ_})})]}),(0,s.jsxs)("div",{className:_().itemStats,children:[(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_gold.png",name:(0,b.IY)(a,"value"),value:v.R.NumberWithCommas(I.y.GetItemValue(t,l),w)}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_timer.png",name:(0,b.IY)(a,"crafting_time"),value:v.R.SecondsToHMS(I.y.GetCraftTime(t),a)})]})]})]}),1===r&&(0,s.jsxs)("div",{className:_().tabContent,children:[(0,s.jsxs)(y.Z,{name:(0,b.IY)(a,"stat_header_blueprint_stats"),small:!0,children:[(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_gold.png",name:(0,b.IY)(a,"value"),value:v.R.NumberWithCommas(I.y.GetItemValue(t,l),w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_timer.png",name:(0,b.IY)(a,"crafting_time"),value:v.R.SecondsToHMS(I.y.GetCraftTime(t),a),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_merchant_xp.png",name:(0,b.IY)(a,"merchant_xp"),value:v.R.NumberWithCommas(I.y.GetCraftXP(t),w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_worker_xp.png",name:(0,b.IY)(a,"worker_xp"),value:v.R.NumberWithCommas(I.y.GetWorkerXP(t),w),small:!0})]}),(0,s.jsxs)(y.Z,{name:(0,b.IY)(a,"stat_header_stats_item"),small:!0,children:[t.atk>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_attack.png",name:(0,b.IY)(a,"attack"),value:v.R.NumberWithCommas(I.y.GetStatValue(t,l,"atk"),w),small:!0}),t.def>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_defense.png",name:(0,b.IY)(a,"defense"),value:v.R.NumberWithCommas(I.y.GetStatValue(t,l,"def"),w),small:!0}),t.hp>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_health.png",name:(0,b.IY)(a,"health"),value:v.R.NumberWithCommas(I.y.GetStatValue(t,l,"hp"),w),small:!0}),+t.eva>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_evasion.png",name:(0,b.IY)(a,"evasion"),value:v.R.NumberToPercent(I.y.GetStatValue(t,l,"eva")),small:!0}),+t.crit>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_critchance.png",name:(0,b.IY)(a,"critical"),value:v.R.NumberToPercent(I.y.GetStatValue(t,l,"crit")),small:!0}),t.elementAffinity&&(0,s.jsx)(C.Z,{imageURL:"/assets/enchantments/elementAffinities/icon_global_element_".concat(t.elementAffinity,".png"),name:(0,b.IY)(a,"affinity"),value:(0,b.IY)(a,"element_".concat(t.elementAffinity)),small:!0}),t.spiritAffinity&&(0,s.jsx)(C.Z,{imageURL:"/assets/enchantments/spirits/icon_global_enchant_spirit_".concat(t.spiritAffinity,".png"),name:(0,b.IY)(a,"affinity"),value:(0,b.IY)(a,"skill_i_".concat(t.spiritAffinity,"_name")),small:!0}),M&&(0,s.jsx)(C.Z,{imageURL:M.elementImage,name:(0,b.IY)(a,"element"),value:I.y.GetElementDataValue(a,M.elementType,M.elementValue),small:!0}),q&&(0,s.jsx)(C.Z,{imageURL:q.spiritImage,name:(0,b.IY)(a,"spirit"),value:(0,b.IY)(a,q.spiritName),small:!0})]}),(0,s.jsxs)(y.Z,{name:(0,b.IY)(a,"stat_header_stats_general"),small:!0,children:[I.y.IsInvasionBlueprintType(t)&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_dragoninvasion_airshippower.png",name:(0,b.IY)(a,"stat_header_power_airship"),value:v.R.NumberWithCommas(I.y.GetInvasionPower(t,l),w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_kingscaprice_favor.png",name:(0,b.IY)(a,"favor"),value:v.R.NumberWithCommas(t.favor,w),small:!0}),I.y.IsCollectionBookBlueprintType(t)&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/stats/icon_global_book_score.png",name:(0,b.IY)(a,"book_score"),value:I.y.GetCollectionBookScore(t).toString(),small:!0})]}),(0,s.jsxs)(y.Z,{name:(0,b.IY)(a,"stat_header_premium_sources"),small:!0,children:["chest"===t.excl&&(0,s.jsx)(C.Z,{imageURL:"/assets/special/chest_".concat(t.chest,".png"),name:(0,b.IY)(a,"special_item_type_chest"),value:(0,b.IY)(a,"chest_".concat(t.chest,"_name")),small:!0}),U&&(0,s.jsx)("div",{className:_().purchaseStat,onClick:P,children:(0,s.jsx)(C.Z,{imageURL:"/assets/packs/".concat(U.uid,".png"),name:(0,b.IY)(a,"stat_locale_title_package"),value:(0,b.IY)(i.data["".concat(U.uid,"_name")],f.d.localeDictionary[i.locale]),small:!0})}),t.shardPrice>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_antique_shard.png",name:(0,b.IY)(a,"antique_shard_name"),value:v.R.NumberWithCommas(t.shardPrice,w),small:!0}),t.shardPrice>0&&(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_antique_shard.png",name:(0,b.IY)(a,"stat_header_antique_shop"),value:I.y.GetAntiqueStoreDate(t,w),small:!0})]}),(0,s.jsxs)(y.Z,{name:(0,b.IY)(a,"stat_header_energy_costs"),small:!0,children:[(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_heart.png",name:(0,b.IY)(a,"surcharge"),value:v.R.NumberWithCommas(t.surcharge,w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_heart.png",name:(0,b.IY)(a,"discount"),value:v.R.NumberWithCommas(t.discount,w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_heart.png",name:(0,b.IY)(a,"suggest"),value:v.R.NumberWithCommas(t.suggest,w),small:!0}),(0,s.jsx)(C.Z,{imageURL:"/assets/icons/global/icon_global_heart.png",name:(0,b.IY)(a,"craft_energy_speedup"),value:v.R.NumberWithCommas(t.speedup,w),small:!0})]})]}),2===r&&(0,s.jsxs)("div",{className:_().tabContent,children:[(0,s.jsxs)("div",{className:_().upgradesContainer,children:[(0,s.jsx)("div",{className:_().upgradesTitle,children:(0,b.IY)(a,"bp_detail_upgrade")}),(0,s.jsx)("div",{className:_().upgradesContent,children:(0,s.jsx)(B.Z,{texts:a,item:t,small:!0})})]}),(0,s.jsxs)("div",{className:_().upgradesContainer,children:[(0,s.jsx)("div",{className:_().upgradesTitle,children:(0,b.IY)(a,"bp_detail_ascensions")}),(0,s.jsx)("div",{className:_().upgradesContent,children:(0,s.jsx)(Y.Z,{texts:a,item:t,small:!0})})]})]}),Z&&(0,g.createPortal)((0,s.jsx)(T.Z,{children:(0,b.IY)(a,"button_copy_to_clipboard_success_link")}),document.getElementById("portal-wrapper")),L&&(0,g.createPortal)((0,s.jsx)(R.Z,{texts:a,purchase:U,purchasesTexts:i,unMountTrigger:P}),document.getElementById("portal-wrapper"))]})}var k=a(3413),L=a.n(k),S=a(1002);function w(e){let{item:t,goToNextItem:a,goToPrevItem:n}=e;return(0,s.jsxs)("div",{className:L().modelContainer,children:[(0,s.jsx)(o(),{className:L().paginationButton,onClick:n,src:"/assets/ui/modals/btn_global_customer_arrow.png",alt:"Previous",width:100,height:100,quality:50}),(0,s.jsx)("div",{className:L().itemImage,children:(0,s.jsx)(S.Z,{item:t,priority:!0,width:249,height:249})}),(0,s.jsx)(o(),{className:L().paginationButton,onClick:a,src:"/assets/ui/modals/btn_global_customer_arrow.png",alt:"Next",width:100,height:100,quality:50})]})}function U(e){let{item:t,unMountTrigger:a}=e,{items:n}=(0,c.useContext)(m.D),[l,r]=(0,c.useState)(t),[_,d]=(0,c.useState)(!1);if((0,c.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),!n)return null;let u=()=>{d(!0),setTimeout(()=>{a()},300)},p=()=>{let e=n.findIndex(e=>e.uid===l.uid),t=e+1>=n.length?0:e+1;r(n[t])},g=()=>{let e=n.findIndex(e=>e.uid===l.uid),t=e-1<0?n.length-1:e-1;r(n[t])};return(0,s.jsxs)("div",{className:_?"".concat(i().modalContainer," ").concat(i().modalClosing):i().modalContainer,children:[(0,s.jsx)("div",{className:i().modalBackground}),(0,s.jsxs)("div",{className:i().modalContent,children:[(0,s.jsx)(w,{item:l,goToNextItem:p,goToPrevItem:g}),(0,s.jsxs)("div",{className:i().modalBottomContent,children:[(0,s.jsx)("button",{className:i().modalCloseButton,onClick:u,children:(0,s.jsx)(o(),{src:"/assets/ui/modals/modal_close_icon.png",alt:"",width:50,height:50,priority:!0,quality:50})}),(0,s.jsx)(Z,{item:l})]})]})]})}},1988:function(e){e.exports={contentContainer:"BlueprintInfo_contentContainer__vcUVK",header:"BlueprintInfo_header___0tv6",itemTier:"BlueprintInfo_itemTier__yVgKt",tierImage:"BlueprintInfo_tierImage__HNB7s",tierValue:"BlueprintInfo_tierValue__iIi5c",itemInfo:"BlueprintInfo_itemInfo__0LHR5",itemNameType:"BlueprintInfo_itemNameType__w4n0w",itemType:"BlueprintInfo_itemType__o5EfL",itemName:"BlueprintInfo_itemName__2PVFf",itemTierType:"BlueprintInfo_itemTierType__v7dJK",tabsContainer:"BlueprintInfo_tabsContainer__LE_pL",tab:"BlueprintInfo_tab__0u5tn",selectedTab:"BlueprintInfo_selectedTab__VB74o",tabContent:"BlueprintInfo_tabContent__1LnAf",itemDetails:"BlueprintInfo_itemDetails__uyoJJ",itemDescription:"BlueprintInfo_itemDescription__GexRb",detailsBlock:"BlueprintInfo_detailsBlock__WP1o4",detailsTitle:"BlueprintInfo_detailsTitle__daPm7",itemFooter:"BlueprintInfo_itemFooter__80Lj_",itemActions:"BlueprintInfo_itemActions__gh0rS",itemActionButton:"BlueprintInfo_itemActionButton__zBnlO",itemStats:"BlueprintInfo_itemStats__29rC_",purchaseStat:"BlueprintInfo_purchaseStat__RrpUW",upgradesContainer:"BlueprintInfo_upgradesContainer__SmcTn",upgradesTitle:"BlueprintInfo_upgradesTitle__mmavQ",upgradesContent:"BlueprintInfo_upgradesContent__4K92S"}},5939:function(e){e.exports={modalContainer:"BlueprintInfoModal_modalContainer__6cGY3",modalBackground:"BlueprintInfoModal_modalBackground__n5t8u",modalClosing:"BlueprintInfoModal_modalClosing__5Cw0D",modalContent:"BlueprintInfoModal_modalContent__0mO5V",modalBottomContent:"BlueprintInfoModal_modalBottomContent__qoMRs",modalCloseButton:"BlueprintInfoModal_modalCloseButton__ll7_T"}},3413:function(e){e.exports={modelContainer:"BlueprintModel_modelContainer__efQRb",itemImage:"BlueprintModel_itemImage__xviYT",paginationButton:"BlueprintModel_paginationButton__Sg8NV"}}}]);